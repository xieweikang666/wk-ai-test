# React 前端说明

这是一个基于React + Ant Design构建的现代化前端界面，用于替换原有的静态HTML页面。

## 功能特性

### 🎨 现代化界面
- **Ant Design组件库**：专业、美观的UI组件
- **响应式设计**：完美适配桌面端和移动端
- **暗色/亮色主题**：支持主题切换（可扩展）
- **流畅动画**：优雅的交互体验

### 💬 智能对话
- **ChatGPT风格对话界面**：用户友好的交互体验
- **预设查询建议**：快速选择常用查询场景
- **实时打字效果**：AI回复时的动态提示
- **消息历史记录**：完整的对话历史

### 📊 数据展示
- **专业表格组件**：基于Ant Design Table，支持排序、筛选、分页
- **智能数值识别**：自动识别数值类型并右对齐显示
- **SQL语法高亮**：专业的代码高亮展示
- **图表预览与下载**：支持图表放大查看和本地下载

### 🔧 技术特性
- **Markdown渲染**：完整的Markdown语法支持
- **代码语法高亮**：SQL、Python等多种语言高亮
- **错误处理**：优雅的错误提示和异常处理
- **性能优化**：虚拟滚动、懒加载等优化技术

## 安装和运行

### 前提条件
- Node.js 14+ 
- npm 或 yarn

### 安装依赖
```bash
cd frontend
npm install
```

### 启动开发服务器
```bash
npm start
```
前端将在 http://localhost:3000 启动

### 构建生产版本
```bash
npm build
```

## 主要组件

### ChatInterface
主要的聊天界面组件，包含：
- 消息列表显示
- 输入框和发送功能
- 智能回复解析和渲染

### DataTable
专业表格组件，支持：
- 自动表头识别
- 数值类型智能识别
- 排序和筛选功能
- 响应式布局

### ChartDisplay
图表展示组件，支持：
- 图表预览和放大
- 本地下载功能
- 错误处理和加载状态

## 与后端集成

前端默认代理到 `http://localhost:8000`，确保：
1. 后端FastAPI服务在8000端口运行
2. `/chat` API接口可用
3. `/health` 健康检查接口可用

## 开发指南

### 添加新的查询类型
在 `ChatInterface.js` 的 `suggestions` 数组中添加新的预设查询。

### 自定义表格样式
修改 `DataTable.js` 中的表格配置，可以添加：
- 自定义渲染函数
- 排序规则
- 样式定制

### 扩展图表功能
在 `ChartDisplay.js` 中可以：
- 添加更多图表类型支持
- 自定义下载格式
- 增加图表交互功能

## 技术栈

- **React 18**：现代化前端框架
- **Ant Design 5**：企业级UI组件库
- **React-Markdown**：Markdown渲染
- **React-Syntax-Highlighter**：代码高亮
- **Axios**：HTTP客户端
- **Styled-Components**：CSS-in-JS样式方案

## 优势对比

| 特性 | 原HTML方案 | React+Ant Design方案 |
|------|------------|---------------------|
| **组件化** | 原生JavaScript | 组件化架构 |
| **UI框架** | 自定义CSS | Ant Design专业组件 |
| **表格展示** | 基础表格 | 专业DataTable组件 |
| **图表支持** | 简单图片展示 | 预览、下载、放大 |
| **响应式** | 手动适配 | 内置响应式 |
| **状态管理** | DOM操作 | React State管理 |
| **维护性** | 较难维护 | 高度模块化 |
| **扩展性** | 有限 | 易于扩展 |

## 下一步计划

1. **主题切换**：支持暗色模式
2. **数据可视化**：集成ECharts图表库
3. **导出功能**：支持Excel、PDF导出
4. **用户认证**：登录和权限管理
5. **实时通信**：WebSocket支持
6. **移动端APP**：React Native版本