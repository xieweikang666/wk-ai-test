<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdownæ¸²æŸ“æ•ˆæœæµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f7f7f8;
            line-height: 1.6;
        }
        
        .container {
            background: white;
            padding: 24px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .test-result {
            border-left: 4px solid #5470c6;
            padding-left: 16px;
            background: #f7fafc;
            padding: 16px;
            border-radius: 0 8px 8px 0;
        }
        
        /* å¤åˆ¶ä¸»ç•Œé¢çš„Markdownæ ·å¼ */
        .message-text {
            font-size: 14px;
            line-height: 1.6;
            color: #2d3748;
        }
        
        .message-text h1, .message-text h2, .message-text h3, .message-text h4 {
            margin: 16px 0 8px 0;
            font-weight: 600;
            color: #1a202c;
        }
        
        .message-text h1 { font-size: 1.5em; }
        .message-text h2 { font-size: 1.3em; }
        .message-text h3 { font-size: 1.1em; }
        
        .message-text p {
            margin: 8px 0;
        }
        
        .message-text strong, .message-text b {
            font-weight: 600;
            color: #1a202c;
        }
        
        .message-text em, .message-text i {
            font-style: italic;
            color: #4a5568;
        }
        
        .message-text table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            background: #ffffff;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .message-text th, .message-text td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
            font-size: 13px;
        }
        
        .message-text th {
            background-color: #f7fafc;
            font-weight: 600;
            color: #2d3748;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .message-text tr:last-child td {
            border-bottom: none;
        }
        
        .message-text tr:hover {
            background-color: #f7fafc;
        }
        
        .message-text ul, .message-text ol {
            margin: 8px 0;
            padding-left: 20px;
        }
        
        .message-text li {
            margin: 4px 0;
        }
        
        .message-text ul li {
            list-style-type: disc;
        }
        
        .message-text ol li {
            list-style-type: decimal;
        }
        
        .message-text code {
            background-color: #f1f5f9;
            color: #e53e3e;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 12px;
        }
        
        .message-text pre {
            background-color: #1a202c;
            color: #e2e8f0;
            border-radius: 6px;
            padding: 16px;
            margin: 12px 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            line-height: 1.4;
        }
        
        .message-text pre code {
            background: none;
            color: inherit;
            padding: 0;
        }
        
        .message-text blockquote {
            border-left: 4px solid #5470c6;
            padding-left: 16px;
            margin: 12px 0;
            color: #4a5568;
            background-color: #f7fafc;
            padding: 12px 16px;
            border-radius: 0 6px 6px 0;
        }
        
        .message-text hr {
            border: none;
            border-top: 2px solid #e2e8f0;
            margin: 16px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ Markdownæ¸²æŸ“åŠŸèƒ½æµ‹è¯•</h1>
        <div class="test-result">
            <p><strong>çŠ¶æ€ï¼š</strong>âœ… å·²å®ŒæˆMarkdownæ¸²æŸ“æ”¯æŒå¢å¼º</p>
            <p><strong>æ”¯æŒæ ¼å¼ï¼š</strong>è¡¨æ ¼ã€æ ‡é¢˜ã€ç²—ä½“ã€æ–œä½“ã€åˆ—è¡¨ã€ä»£ç å—ã€å¼•ç”¨ã€åˆ†å‰²çº¿</p>
        </div>
    </div>

    <div class="container">
        <h2>ğŸ“Š å®é™…æ¸²æŸ“æ•ˆæœ</h2>
        <div class="message-text" id="markdownContent">
            <!-- è¿™é‡Œå°†é€šè¿‡JavaScriptæ’å…¥Markdownå†…å®¹ -->
        </div>
    </div>

    <script>
        // ç¤ºä¾‹Markdownå†…å®¹
        const markdownContent = `# è®¾å¤‡æ•°é‡åˆ†ææŠ¥å‘Š

**æ ¸å¿ƒç»“è®º**ï¼šæ‰€æœ‰è¿è¥å•†çš„è®¾å¤‡æ•°é‡å‡ä¸º1711599å°ï¼Œæ˜¾ç¤ºå‡ºè®¾å¤‡åˆ†å¸ƒçš„é«˜åº¦é›†ä¸­æ€§ã€‚

## æ•°é‡ç»Ÿè®¡
| è¿è¥å•†        | è®¾å¤‡æ•°é‡ | å æ¯”   |
|---------------|----------|--------|
| è¿è¥å•†A      | 1711599  | 100%   |

## åˆ†å¸ƒåˆ†æ
- **è®¾å¤‡æ•°é‡**ï¼šæœ¬æ¬¡æŸ¥è¯¢è¦†ç›–çš„è®¾å¤‡æ•°é‡ä¸º1711599ï¼Œæ‰€æœ‰è®¾å¤‡å‡å½’å±äºåŒä¸€è¿è¥å•†
- **é›†ä¸­æ€§**ï¼šè®¾å¤‡æ•°é‡é«˜åº¦é›†ä¸­ï¼Œè¡¨æ˜è¯¥è¿è¥å•†åœ¨å½“å‰æ—¶é—´æ®µå†…çš„è¦†ç›–èƒ½åŠ›è¾ƒå¼º

## è¶‹åŠ¿å»ºè®®
1. **å¤šæ ·åŒ–é€‰æ‹©**ï¼šè€ƒè™‘å¼•å…¥å…¶ä»–è¿è¥å•†çš„è®¾å¤‡
2. **ç›‘æ§æ‰©å±•**ï¼šå»ºè®®æŒç»­ç›‘æ§è®¾å¤‡æ•°é‡å˜åŒ–
3. **è´¨é‡è¯„ä¼°**ï¼šå»ºè®®å¯¹ç°æœ‰è®¾å¤‡è¿›è¡Œå®šæœŸå¥åº·æ£€æŸ¥

> ğŸ’¡ **é‡è¦æç¤º**ï¼šå»ºè®®åœ¨ç¡®ä¿ç½‘ç»œç¨³å®šæ€§çš„åŒæ—¶ï¼Œç§¯ææ¢ç´¢å…¶ä»–è¿è¥å•†çš„è®¾å¤‡å¼•å…¥ã€‚

---

\`\`\`sql
SELECT src_isp, COUNT(DISTINCT hostname) as device_count
FROM detect.detect_ping_log
WHERE timestamp >= 1764749148 
GROUP BY src_isp
\`\`\``;

        // Markdownæ ¼å¼åŒ–å‡½æ•°ï¼ˆä»ä¸»ç•Œé¢å¤åˆ¶ï¼‰
        function formatContent(content) {
            let formatted = content
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;');
            
            // å¤„ç†ä»£ç å—
            formatted = formatted.replace(/```(\w*)\n([\s\S]*?)```/g, function(match, lang, code) {
                if (lang === 'sql') {
                    return `<div style="background-color: #f6f8fa; border: 1px solid #e1e4e8; border-radius: 6px; padding: 12px; margin: 8px 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 12px; overflow-x: auto;">${escapeHtml(code)}</div>`;
                } else {
                    return `<pre><code>${escapeHtml(code)}</code></pre>`;
                }
            });
            
            // å¤„ç†å†…è”ä»£ç 
            formatted = formatted.replace(/`([^`]+)`/g, '<code>$1</code>');
            
            // å¤„ç†æ ‡é¢˜
            formatted = formatted.replace(/^### (.*$)/gm, '<h3>$1</h3>');
            formatted = formatted.replace(/^## (.*$)/gm, '<h2>$1</h2>');
            formatted = formatted.replace(/^# (.*$)/gm, '<h1>$1</h1>');
            
            // å¤„ç†è¡¨æ ¼
            formatted = formatted.replace(/\|(.+)\|/gm, function(match, content) {
                const cells = content.split('|').map(cell => cell.trim());
                if (cells.length >= 2 && cells.every(cell => cell.length > 0)) {
                    const rowHtml = cells.map(cell => `<td>${cell}</td>`).join('');
                    return `<table><tr>${rowHtml}</tr></table>`;
                }
                return match;
            });
            
            // å¤„ç†è¡¨æ ¼å¤´è¡Œ
            formatted = formatted.replace(/<table><tr>(.*?)<\/tr><\/table>\n\s*\|[-:\s|]+\|/g, function(match, rowContent) {
                const cells = rowContent.match(/<td>(.*?)<\/td>/g);
                if (cells && cells.length >= 2) {
                    const headerCells = cells.map(cell => cell.replace(/<td>/g, '<th>').replace(/<\/td>/g, '</th>')).join('');
                    return `<table>${headerCells}</table>`;
                }
                return match;
            });
            
            // å¤„ç†ç²—ä½“
            formatted = formatted.replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>');
            formatted = formatted.replace(/__([^_]+)__/g, '<strong>$1</strong>');
            
            // å¤„ç†æ–œä½“
            formatted = formatted.replace(/\*([^*]+)\*/g, '<em>$1</em>');
            formatted = formatted.replace(/_([^_]+)_/g, '<em>$1</em>');
            
            // å¤„ç†æ— åºåˆ—è¡¨
            formatted = formatted.replace(/^[\-\*]\s+(.+)$/gm, '<li>$1</li>');
            formatted = formatted.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
            
            // å¤„ç†æœ‰åºåˆ—è¡¨
            formatted = formatted.replace(/^\d+\.\s+(.+)$/gm, '<li>$1</li>');
            
            // å¤„ç†å¼•ç”¨
            formatted = formatted.replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>');
            
            // å¤„ç†æ°´å¹³åˆ†å‰²çº¿
            formatted = formatted.replace(/^---+$/gm, '<hr>');
            formatted = formatted.replace(/^\*\*\*+$/gm, '<hr>');
            
            // å¤„ç†æ®µè½
            formatted = formatted.replace(/\n\n+/g, '</p><p>');
            formatted = '<p>' + formatted + '</p>';
            
            // æ¸…ç†ç©ºæ®µè½
            formatted = formatted.replace(/<p><\/p>/g, '');
            formatted = formatted.replace(/<p>(<h[1-6]>)/g, '$1');
            formatted = formatted.replace(/(<\/h[1-6]>)<\/p>/g, '$1');
            formatted = formatted.replace(/<p>(<table>)/g, '$1');
            formatted = formatted.replace(/(<\/table>)<\/p>/g, '$1');
            formatted = formatted.replace(/<p>(<ul>)/g, '$1');
            formatted = formatted.replace(/(<\/ul>)<\/p>/g, '$1');
            formatted = formatted.replace(/<p>(<blockquote>)/g, '$1');
            formatted = formatted.replace(/(<\/blockquote>)<\/p>/g, '$1');
            formatted = formatted.replace(/<p>(<hr>)<\/p>/g, '$1');
            
            return formatted;
        }
        
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        // åº”ç”¨Markdownæ¸²æŸ“
        document.getElementById('markdownContent').innerHTML = formatContent(markdownContent);
    </script>
</body>
</html>